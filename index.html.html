<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ado</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600&family=Playfair+Display:wght@600;700&family=Space+Grotesk:wght@400;500;600;700&display=swap');
        
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Inter', sans-serif;
            background: #000;
            color: #fff;
            overflow-x: hidden;
            min-height: 100vh;
        }
        
        /* Music Toggle Button */
        .music-toggle {
            position: fixed;
            top: 20px;
            right: 20px;
            z-index: 1000;
            width: 50px;
            height: 50px;
            border-radius: 50%;
            background: rgba(0, 0, 0, 0.6);
            backdrop-filter: blur(15px);
            border: 1px solid rgba(255, 255, 255, 0.2);
            color: #fff;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.2em;
            transition: all 0.3s ease;
            animation: fadeIn 1s ease;
        }
        
        .music-toggle:hover {
            background: rgba(255, 255, 255, 0.1);
            border-color: rgba(255, 255, 255, 0.4);
            transform: scale(1.1);
        }
        
        .music-toggle.muted {
            color: #ff6b6b;
        }
        
        .music-toggle i {
            transition: transform 0.3s ease;
        }
        
        .music-toggle:active i {
            transform: scale(0.9);
        }
        
        /* Particle Background */
        #particles {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: 0;
        }
        
        .particle {
            position: absolute;
            background: rgba(255, 255, 255, 0.1);
            border-radius: 50%;
            pointer-events: none;
            animation: float linear infinite;
        }
        
        @keyframes float {
            0% {
                transform: translateY(100vh) rotate(0deg);
                opacity: 0;
            }
            10% {
                opacity: 1;
            }
            90% {
                opacity: 1;
            }
            100% {
                transform: translateY(-100px) rotate(360deg);
                opacity: 0;
            }
        }
        
        /* Banner - Fullscreen */
        .banner {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100vh;
            overflow: hidden;
            z-index: 0;
        }
        
        .banner::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: linear-gradient(180deg, rgba(0,0,0,0.4) 0%, rgba(0,0,0,0.7) 100%);
            z-index: 1;
        }
        
        .banner img {
            width: 100%;
            height: 100%;
            object-fit: cover;
            filter: brightness(0.6);
        }
        
        /* Main Container - Overlay on banner */
        .container {
            position: relative;
            z-index: 2;
            max-width: 600px;
            margin: 0 auto;
            padding: 0 20px 50px;
            min-height: 100vh;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
        }
        
        /* Avatar */
        .avatar-wrapper {
            text-align: center;
            margin-bottom: 30px;
            animation: fadeInDown 1s ease;
        }
        
        .avatar {
            width: 180px;
            height: 180px;
            border-radius: 50%;
            border: 5px solid rgba(255, 255, 255, 0.2);
            box-shadow: 0 12px 48px rgba(0, 0, 0, 0.8);
            transition: transform 0.3s ease, box-shadow 0.3s ease;
            object-fit: cover;
        }
        
        .avatar:hover {
            transform: scale(1.05) rotate(5deg);
            box-shadow: 0 16px 64px rgba(255, 255, 255, 0.2);
        }
        
        /* Name & Bio */
        .name {
            font-family: 'Space Grotesk', sans-serif;
            font-size: 4.5em;
            font-weight: 700;
            margin: 20px 0 15px;
            letter-spacing: 2px;
            animation: fadeIn 1.2s ease;
            text-align: center;
            text-shadow: 0 4px 12px rgba(0, 0, 0, 0.8);
        }
        
        .bio {
            font-size: 1.2em;
            color: rgba(255, 255, 255, 0.9);
            font-weight: 300;
            font-style: italic;
            line-height: 1.6;
            animation: fadeIn 1.4s ease;
            text-align: center;
            text-shadow: 0 2px 8px rgba(0, 0, 0, 0.8);
        }
        
        /* Profile Card */
        .profile-card {
            display: flex;
            align-items: center;
            gap: 15px;
            background: rgba(0, 0, 0, 0.6);
            backdrop-filter: blur(15px);
            border: 1px solid rgba(255, 255, 255, 0.2);
            border-radius: 12px;
            padding: 15px 20px;
            margin: 25px 0;
            animation: fadeIn 1.5s ease;
            max-width: 400px;
        }
        
        .profile-avatar {
            width: 50px;
            height: 50px;
            border-radius: 50%;
            border: 2px solid rgba(0, 255, 136, 0.5);
            object-fit: cover;
        }
        
        .profile-info {
            flex: 1;
            text-align: left;
        }
        
        .profile-name {
            font-size: 1em;
            margin-bottom: 5px;
            display: flex;
            align-items: center;
        }
        
        .profile-status {
            font-size: 0.85em;
            color: rgba(255, 255, 255, 0.5);
            font-style: italic;
        }
        
        .profile-activity {
            font-size: 0.8em;
            color: rgba(255, 255, 255, 0.6);
            margin-top: 3px;
        }
        
        .status-indicator {
            position: absolute;
            bottom: 2px;
            right: 2px;
            width: 14px;
            height: 14px;
            border-radius: 50%;
            border: 3px solid rgba(0, 0, 0, 0.8);
            background: #747f8d; /* default offline */
        }
        
        .status-indicator.online {
            background: #3ba55d;
            box-shadow: 0 0 10px rgba(59, 165, 93, 0.5);
        }
        
        .status-indicator.idle {
            background: #faa81a;
            box-shadow: 0 0 10px rgba(250, 168, 26, 0.5);
        }
        
        .status-indicator.dnd {
            background: #ed4245;
            box-shadow: 0 0 10px rgba(237, 66, 69, 0.5);
        }
        
        .status-indicator.offline {
            background: #747f8d;
        }
        
        /* Social Links */
        .social-links {
            display: flex;
            gap: 15px;
            justify-content: center;
            margin: 30px 0;
            animation: fadeIn 1.6s ease;
        }
        
        .social-btn {
            background: rgba(0, 0, 0, 0.5);
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.2);
            color: #fff;
            padding: 12px 25px;
            border-radius: 8px;
            text-decoration: none;
            font-size: 0.95em;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            gap: 8px;
        }
        
        .social-btn:hover {
            background: rgba(255, 255, 255, 0.15);
            border-color: rgba(255, 255, 255, 0.4);
            transform: translateY(-2px);
            box-shadow: 0 8px 24px rgba(255, 255, 255, 0.2);
        }
        
        .social-btn i {
            font-size: 1.2em;
        }
        
        /* Music Player */
        .music-player {
            background: rgba(0, 0, 0, 0.6);
            backdrop-filter: blur(15px);
            border: 1px solid rgba(255, 255, 255, 0.2);
            border-radius: 12px;
            padding: 20px;
            margin: 30px 0;
            animation: fadeIn 1.8s ease;
            width: 100%;
            max-width: 400px;
            text-align: center;
        }
        
        .music-player h3 {
            font-size: 0.9em;
            font-weight: 500;
            color: rgba(255, 255, 255, 0.6);
            margin-bottom: 10px;
            text-transform: uppercase;
            letter-spacing: 1px;
        }
        
        .music-iframe {
            width: 100%;
            border-radius: 8px;
            border: none;
        }
        
        /* Footer */
        .footer {
            text-align: center;
            padding: 30px 0;
            color: rgba(255, 255, 255, 0.3);
            font-size: 0.85em;
            animation: fadeIn 2s ease;
            position: relative;
        }
        
        .view-counter {
            display: inline-flex;
            align-items: center;
            gap: 8px;
            background: rgba(0, 0, 0, 0.5);
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.2);
            padding: 8px 16px;
            border-radius: 20px;
            font-size: 0.95em;
            color: #fff;
            animation: pulse 2s ease-in-out infinite;
        }
        
        .view-counter i {
            color: #00ff88;
        }
        
        @keyframes pulse {
            0%, 100% {
                opacity: 1;
            }
            50% {
                opacity: 0.7;
            }
        }
        
        /* Animations */
        @keyframes fadeIn {
            from {
                opacity: 0;
                transform: translateY(20px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }
        
        @keyframes fadeInDown {
            from {
                opacity: 0;
                transform: translateY(-30px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }
        
        /* Responsive */
        @media (max-width: 768px) {
            .name {
                font-size: 3em;
            }
            
            .bio {
                font-size: 1em;
                padding: 0 10px;
            }
            
            .avatar {
                width: 140px;
                height: 140px;
            }
            
            .profile-card {
                max-width: 100%;
            }
            
            .social-links {
                flex-direction: column;
                width: 100%;
            }
            
            .social-btn {
                width: 100%;
                justify-content: center;
            }
            
            .music-player {
                padding: 15px;
            }
        }
    </style>
</head>
<body>
    <!-- Particle Background -->
    <div id="particles"></div>
    
    <!-- Music Toggle Button -->
    <button id="music-toggle" class="music-toggle">
        <i class="fas fa-volume-up" id="volume-icon"></i>
    </button>
    
    <!-- Banner -->
    <div class="banner">
        <img src="banner.gif" alt="Banner">
    </div>
    
    <!-- Main Container -->
    <div class="container">
        <!-- Avatar -->
        <div class="avatar-wrapper">
            <img class="avatar" src="whale_avatar.png" alt="H# - 52Hz Whale">
        </div>
        
        <!-- Name & Bio -->
        <h1 class="name">H#</h1>
        <p class="bio">5 AM - khi tháº¿ giá»›i ngá»§, Æ°á»›c mÆ¡ thá»©c dáº­y</p>
        
        <!-- Profile Card -->
        <div class="profile-card">
            <div style="position: relative;">
                <img class="profile-avatar" src="avatar.gif" alt="H#">
                <div class="status-indicator" id="status-dot"></div>
            </div>
            <div class="profile-info">
                <div class="profile-name">
                    <span style="color: #fff; font-weight: 600;">hzfromwhale</span>
                </div>
                <div class="profile-status" id="discord-status">Checking status...</div>
                <div class="profile-activity" id="discord-activity"></div>
            </div>
        </div>
        
        <!-- Social Links -->
        <div class="social-links">
            <a href="#" class="social-btn" id="discord-btn">
                <i class="fab fa-discord"></i>
                <span>hzfromwhale</span>
            </a>
            <a href="#" class="social-btn">
                <i class="fab fa-github"></i>
                <span>GitHub</span>
            </a>
        </div>
        
        <!-- Music Player -->
        <div class="music-player">
            <h3>â˜• Coffee Talk OST</h3>
            <p style="color: rgba(255,255,255,0.7); font-size: 0.95em; margin: 10px 0;">ðŸŽµ Sunset in the City</p>
            <p style="color: rgba(255,255,255,0.4); font-size: 0.8em; margin-top: 8px;">Lo-fi beats playing...</p>
            <audio id="bg-music" autoplay loop>
                <source src="music.mp3" type="audio/mpeg">
            </audio>
        </div>
        
        <!-- Footer -->
        <div class="footer">
            <div class="view-counter">
                <i class="fas fa-eye"></i>
                <span id="view-count">0</span>
            </div>
            <p style="margin-top: 20px;">made with ðŸ’œ at 5 AM</p>
        </div>
    </div>
    
    <script>
        // Create particles
        function createParticles() {
            const particlesContainer = document.getElementById('particles');
            const particleCount = 50;
            
            for (let i = 0; i < particleCount; i++) {
                const particle = document.createElement('div');
                particle.className = 'particle';
                
                const size = Math.random() * 3 + 1;
                particle.style.width = size + 'px';
                particle.style.height = size + 'px';
                particle.style.left = Math.random() * 100 + '%';
                particle.style.animationDuration = (Math.random() * 10 + 10) + 's';
                particle.style.animationDelay = Math.random() * 5 + 's';
                
                particlesContainer.appendChild(particle);
            }
        }
        
        // Initialize
        createParticles();
        
        // Discord status via Lanyard API
        const DISCORD_ID = '1391423509888110722';
        
        // Helper function to calculate relative time
        function getRelativeTime(timestamp) {
            const now = Date.now();
            const diff = now - timestamp;
            const seconds = Math.floor(diff / 1000);
            const minutes = Math.floor(seconds / 60);
            const hours = Math.floor(minutes / 60);
            const days = Math.floor(hours / 24);
            
            if (days > 0) return `${days} day${days > 1 ? 's' : ''} ago`;
            if (hours > 0) return `${hours} hour${hours > 1 ? 's' : ''} ago`;
            if (minutes > 0) return `${minutes} minute${minutes > 1 ? 's' : ''} ago`;
            return 'just now';
        }
        
        async function updateDiscordStatus() {
            try {
                const response = await fetch(`https://api.lanyard.rest/v1/users/${DISCORD_ID}`);
                const data = await response.json();
                
                console.log('Lanyard response:', data); // Debug
                
                if (data.success && data.data) {
                    const discord = data.data;
                    const statusDot = document.getElementById('status-dot');
                    const statusText = document.getElementById('discord-status');
                    const activityDiv = document.getElementById('discord-activity');
                    
                    // Update status indicator
                    statusDot.className = `status-indicator ${discord.discord_status}`;
                    
                    // Update status text
                    if (discord.discord_status === 'offline') {
                        // Show last seen time for offline status
                        const lastSeen = discord.kv?.last_seen || discord.last_seen;
                        if (lastSeen) {
                            const relativeTime = getRelativeTime(lastSeen);
                            statusText.textContent = `âš« Last seen ${relativeTime}`;
                        } else {
                            statusText.textContent = 'âš« Offline';
                        }
                    } else {
                        const statusMessages = {
                            'online': 'ðŸŸ¢ Online',
                            'idle': 'ðŸŸ¡ Idle',
                            'dnd': 'ðŸ”´ Do Not Disturb'
                        };
                        statusText.textContent = statusMessages[discord.discord_status] || 'Unknown';
                    }
                    
                    // Update activity
                    activityDiv.textContent = '';
                    if (discord.activities && discord.activities.length > 0) {
                        const activity = discord.activities[0];
                        if (activity.type === 0) { // Playing
                            activityDiv.textContent = `ðŸŽ® Playing ${activity.name}`;
                        } else if (activity.type === 2) { // Listening to Spotify
                            activityDiv.textContent = `ðŸŽµ Listening to ${activity.details}`;
                        } else if (activity.name) {
                            activityDiv.textContent = `âœ¨ ${activity.name}`;
                        }
                    }
                    
                    // Show custom status if available
                    if (discord.activities) {
                        const customStatus = discord.activities.find(a => a.type === 4);
                        if (customStatus && customStatus.state) {
                            activityDiv.textContent = customStatus.state;
                        }
                    }
                } else {
                    // Lanyard not tracking this user yet
                    throw new Error('User not found in Lanyard');
                }
            } catch (error) {
                console.error('Lanyard error:', error);
                // Fallback to static display
                const statusText = document.getElementById('discord-status');
                const statusDot = document.getElementById('status-dot');
                statusText.textContent = 'Available on Discord';
                statusDot.className = 'status-indicator online';
            }
        }
        
        // Initial fetch
        updateDiscordStatus();
        // Update every 15 seconds
        setInterval(updateDiscordStatus, 15000);
        
        // View counter
        function updateViewCount() {
            let views = localStorage.getItem('portfolioViews');
            if (!views) {
                views = 0;
            }
            views = parseInt(views) + 1;
            localStorage.setItem('portfolioViews', views);
            
            // Animate count up
            const counter = document.getElementById('view-count');
            let current = 0;
            const increment = views / 50;
            const timer = setInterval(() => {
                current += increment;
                if (current >= views) {
                    counter.textContent = views;
                    clearInterval(timer);
                } else {
                    counter.textContent = Math.floor(current);
                }
            }, 20);
        }
        updateViewCount();
        
        // Auto-play music with fallback
        const audio = document.getElementById('bg-music');
        audio.volume = 0.5; // Set volume to 50%
        
        // Music toggle button
        const musicToggle = document.getElementById('music-toggle');
        const volumeIcon = document.getElementById('volume-icon');
        let isMuted = false;
        
        musicToggle.addEventListener('click', function() {
            isMuted = !isMuted;
            audio.muted = isMuted;
            
            if (isMuted) {
                volumeIcon.className = 'fas fa-volume-mute';
                musicToggle.classList.add('muted');
            } else {
                volumeIcon.className = 'fas fa-volume-up';
                musicToggle.classList.remove('muted');
            }
            
            // Ensure audio is playing when unmuting
            if (!isMuted) {
                audio.play().catch(() => {});
            }
        });
        
        // Try to play
        const playPromise = audio.play();
        if (playPromise !== undefined) {
            playPromise.catch(error => {
                // Autoplay was prevented, play on first user interaction
                document.body.addEventListener('click', function() {
                    audio.play();
                }, { once: true });
            });
        }
        
        // Copy Discord tag on click
        document.getElementById('discord-btn').addEventListener('click', function(e) {
            e.preventDefault();
            const tag = this.querySelector('span').textContent;
            navigator.clipboard.writeText(tag).then(() => {
                const originalText = this.querySelector('span').textContent;
                this.querySelector('span').textContent = 'Copied!';
                setTimeout(() => {
                    this.querySelector('span').textContent = originalText;
                }, 2000);
            });
        });
    </script>
</body>
</html>